@model List<ForumPost>;
@{
    ViewData["Title"] = "Index";
}

<h1>Forums</h1>


@if (@Model[0] != null)
{
    <p>
        <h2>Last forum post</h2>
        User: @Model[0].User<br />
        Date: @Model[0].Date.ToShortDateString() <br />
        Head: @Model[0].Head<br />
        Rating: @Model[0].Rating.rating<br />
        URL: @Model[0].Rating.url<br />
        Body: @Model[0].Body<br />
    </p>
    <div class="container">
        <table>
            <tr>
                <th class="col-md-6">Title</th>
                <th class="col-md-4">User</th>
                <th class="col-md-2">Date</th>
            </tr>
            @for (int i=0; i<Model.Count; i++)
            {
                int j = i + 1;

                <tr>
                    <td>
                        <a href="/forum/post?PostId=@j" class="h2">@Model[i].Head</a>
                    </td>
                    <td class="h3">
                        @Model[i].User
                    </td>
                    <td class="h3">
                        @Model[i].Date
                    </td>
                </tr>
            }
        </table>
    </div>
}
else
{
    <p>Posts not found!</p>
}
